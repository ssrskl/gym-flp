import numpy as np

# 定义s, P和D
s = np.array([3, 5, 7, 1, 4, 6, 2])

P = np.array(
    [
        [0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0],
        [0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0],
        [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0],
        [1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
        [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0],
        [0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0],
        [0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    ]
)

D = np.array(
    [
        [0.0, 4.77941176, 8.22058824, 5.97740495, 6.95066698, 10.74936828, 12.85975789],
        [4.77941176, 0.0, 3.44117647, 10.75681671, 6.36720632, 5.96995651, 8.08034612],
        [8.22058824, 3.44117647, 0.0, 14.19799318, 9.80838279, 6.00968149, 4.63916965],
        [5.97740495, 10.75681671, 14.19799318, 0.0, 4.38961039, 8.18831169, 10.2987013],
        [6.95066698, 6.36720632, 9.80838279, 4.38961039, 0.0, 3.7987013, 5.90909091],
        [10.74936828, 5.96995651, 6.00968149, 8.18831169, 3.7987013, 0.0, 2.11038961],
        [12.85975789, 8.08034612, 4.63916965, 10.2987013, 5.90909091, 2.11038961, 0.0],
    ]
)

# 计算P^T
P_T = P.T

# 计算新的距离矩阵D_new
D_new = np.dot(np.dot(P_T, D), P)

print(D_new)
